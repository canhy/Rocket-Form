var Rocket=function(e){if(e.defaults||(e.defaults={}),e.defaults.form={selector:".form",colour:"blue",label:"normal",size:"normal",style:"line"},!e.exists){var t=function(e){return"undefined"!=typeof e&&null!==e&&e!==!1};e.exists=t}if(!e.has){var n={spaces:function(e){return/\s/.test(e)},class:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}};e.has=n}if(!e.is){var o={array:function(e){return"object"==typeof e&&e instanceof Array},color:function(e){o.colour(e)},colour:function(e){return defaults.regexp.colour.test(e)},date:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.date;return t.test(e)},element:function(e){return!(!e.nodeType||1!==e.nodeType)},email:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.email;return t.test(e)},float:function(e){return defaults.regexp.float.test(e)},integer:function(e){return defaults.regexp.integer.test(e)},image:function(e,t){var n=o.array(t)?t:defaults.extensions.images;return n[e.split(".").pop().toLowerCase()]},json:function(e){if("object"!=typeof e)try{JSON.parse(e)}catch(e){return!1}return!0},password:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.password;return t.test(e)},time:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.time;return t.test(e)},touch:function(){return"ontouchstart"in window||"onmsgesturechange"in window},url:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.url;return t.test(e)}};e.is=o}if(!e.class){var r={add:function(e,t){r.executeClasses(e,t,!1)},clear:function(e){t(e)&&e.removeAttribute("class")},executeAdd:function(e,t){e.className=e.className.split(" ").concat(t).filter(function(e,t,n){return n.indexOf(e)===t&&""!==e}).toString().replace(/,/g," ")},executeClasses:function(e,n,c){if(!t(e))return!1;var a=[];if(o.element(e)?a.push(e):o.array(e)&&(a=e),a.length<1)return!1;for(var s=l.makeArray(n,!0),u=l.makeArray(c,!0),f=s.length>0,i=u.length>0,d=0,p=a.length;d<p;d++)f&&r.executeAdd(a[d],s),i&&r.executeRemove(a[d],u)},executeRemove:function(e,t){e.className=e.className.split(" ").filter(function(e){return t.indexOf(e)<0}).toString().replace(/,/g," "),""===e.className&&r.clear(e)},remove:function(e,t){r.executeClasses(e,!1,t)},replace:function(e,t,n){r.executeClasses(e,n,t)},toggle:function(e,c){if(!t(e)||"string"!=typeof c||n.spaces(c))return!1;var a=[];if(o.element(e)?a.push(e):o.array(e)&&(a=e),a.length<1)return!1;for(var s=0,l=e.length;s<l;s++)n.class(e[s],c)?r.executeRemove(e[s],[c]):r.executeAdd(e[s],[c])}};e.class=r}if(!e.log){var c=function(e){window&&window.console&&console.log(e)};e.log=c}if(e.dom||(e.dom={}),e.dom.html||(e.dom.html=document.getElementsByTagName("html")[0]),!e.event){var a={add:function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},remove:function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=n)}};e.event=a}if(!e.get){var s={extension:function(e){return e.split(".").pop().toLowerCase()},index:function(e){return[].indexOf.call(e.parentNode.children,e)}};e.get=s}if(!e.helper){var l={makeArray:function(e,t){var r=[];if(!e)return r;var t="boolean"==typeof t&&t;return o.array(e)?r=t?e.filter(function(e){return r.indexOf(e)<0}):e:o.element(e)?r.push(e):"string"==typeof e&&(n.spaces(e)?r=t?e.split(" ").filter(function(e){return r.indexOf(e)<0}):e.split(" "):r.push(e)),r},parse:{json:function(e){return o.json(e)?JSON.parse(e):e}},setDefault:function(e,t){return("undefined"!=typeof e||"undefined"!=typeof t)&&("undefined"!=typeof e&&"undefined"==typeof t?e:typeof e==typeof t?e:t)}};e.helper=l}return e}(Rocket||{}),RocketFormComponent=function(){var e=function(){Rocket.is.touch()||Rocket.class.add(Rocket.dom.html,"rocket-no-touch")},t=function(e,t){var n=!1,o=["_c-"+t.colour,"_s-"+t.style,"_sz-"+t.size],r=!1;switch(e.querySelector("input")?(n=e.querySelector("input"),r=n.getAttribute("type")):e.querySelector("textarea")?(n=e.querySelector("textarea"),r="textarea"):e.querySelector("select")&&(n=e.querySelector("select"),r="select"),r){case"checkbox":case"radio":n.checked?o.push("_checked"):Rocket.class.remove(n,"_checked"),Rocket.has.class(n,"toggler")?o.push("rf-tog"):(o.push("rf-check"),"radio"===r&&o.push("_t-radio"));break;case"text":case"password":o.push("rf-inp"),"password"===r&&o.push("_t-password"),t.label.length>0&&"normal"!==t.label&&o.push("_l-"+t.label),n.value.length>0&&o.push("_valued");break;case"textarea":o.push("rf-text"),t.label.length>0&&"normal"!==t.label&&o.push("_l-"+t.label),n.value.length>0&&o.push("_valued");break;case"select":o.push("rf-sel")}return Rocket.class.add(e,o),{container:e,element:n,type:r}},n=function(e){var t={off:function(){e.element.checked=!1,Rocket.class.remove(e.container,"_checked")},on:function(){e.element.checked=!0,Rocket.class.add(e.container,"_checked")}},n=function(n){if("checkbox"!==e.type)return!1;var n="string"==typeof n&&n;"on"===n?t.on():"off"===n?t.off():Rocket.has.class(e.container,"_checked")?t.off():t.on()},o=function(){Rocket.log(e.type),"text"!==e.type&&"textarea"!==e.type||(e.element.value="",Rocket.class.remove(e.container,["_focused"].concat(e.element.value.length<1?["_valued"]:[])))},r=function(n){if("radio"!==e.type)return!1;var n="string"==typeof n&&n;if("off"===n)t.off();else{for(var o=document.getElementsByName(e.element.getAttribute("name")),r=0,c=o.length;r<c;r++)o[r].checked=!1,Rocket.class.remove(o[r].parentNode,"_checked");t.on()}},c=function(t){switch(e.type){case"checkbox":n(t);break;case"radio":r(t)}};switch(e.type){case"checkbox":Rocket.event.add(e.element,"click",function(){n()});break;case"radio":Rocket.event.add(e.element,"click",function(){r()});break;default:Rocket.event.add(e.element,"focus",function(){Rocket.class.add(e.container,["_focused","_valued"])}),Rocket.event.add(e.element,"blur",function(){Rocket.class.remove(e.container,["_focused"].concat(e.element.value.length<1?["_valued"]:[]))})}return{toggle:c,clear:o,form:e.element}},o=function(e){var e="object"==typeof e&&e,o={selector:Rocket.helper.setDefault(e.selector,Rocket.defaults.form.selector),colour:Rocket.helper.setDefault(e.colour,Rocket.defaults.form.colour),label:Rocket.helper.setDefault(e.label,Rocket.defaults.form.label),size:Rocket.helper.setDefault(e.size,Rocket.defaults.form.size),style:Rocket.helper.setDefault(e.style,Rocket.defaults.form.style)},r=document.querySelectorAll(o.selector);if(r.length<1)return!1;for(var c=[],a=0,s=r.length;a<s;a++)c.push(new n(t(r[a],o)));return c};return e(),{init:o}}();Rocket.form=function(e){return RocketFormComponent.init(e)};