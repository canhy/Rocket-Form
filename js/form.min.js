var Rocket=function(e){if(e.defaults||(e.defaults={}),e.defaults.form={targets:".form",colour:"blue",label:"normal",size:"normal",style:"line"},!e.exists){var t=function(e){return"undefined"!=typeof e&&null!==e&&e!==!1};e.exists=t}if(!e.has){var n={spaces:function(e){return/\s/.test(e)},class:function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1}};e.has=n}if(!e.is){var r={array:function(e){return"object"==typeof e&&e instanceof Array},color:function(e){r.colour(e)},colour:function(e){return defaults.regexp.colour.test(e)},date:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.date;return t.test(e)},element:function(e){return!(!e.nodeType||1!==e.nodeType)},email:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.email;return t.test(e)},float:function(e){return defaults.regexp.float.test(e)},integer:function(e){return defaults.regexp.integer.test(e)},image:function(e,t){var n=r.array(t)?t:defaults.extensions.images;return n[e.split(".").pop().toLowerCase()]},json:function(e){if("object"!=typeof e)try{JSON.parse(e)}catch(e){return!1}return!0},password:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.password;return t.test(e)},time:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.time;return t.test(e)},touch:function(){return"ontouchstart"in window||"onmsgesturechange"in window},url:function(e,t){var t=t instanceof RegExp?t:defaults.regexp.url;return t.test(e)}};e.is=r}if(!e.class){var o={add:function(e,t){o.executeClasses(e,t,!1)},clear:function(e){t(e)&&e.removeAttribute("class")},executeAdd:function(e,t){e.className=e.className.split(" ").concat(t).filter(function(e,t,n){return n.indexOf(e)===t&&""!==e}).toString().replace(/,/g," ")},executeClasses:function(e,n,c){if(!t(e))return!1;var a=[];if(r.element(e)?a.push(e):r.array(e)&&(a=e),a.length<1)return!1;for(var s=l.makeArray(n,!0),u=l.makeArray(c,!0),f=s.length>0,i=u.length>0,d=0,p=a.length;d<p;d++)f&&o.executeAdd(a[d],s),i&&o.executeRemove(a[d],u)},executeRemove:function(e,t){e.className=e.className.split(" ").filter(function(e){return t.indexOf(e)<0}).toString().replace(/,/g," "),""===e.className&&o.clear(e)},remove:function(e,t){o.executeClasses(e,!1,t)},replace:function(e,t,n){o.executeClasses(e,n,t)},toggle:function(e,c){if(!t(e)||"string"!=typeof c||n.spaces(c))return!1;var a=[];if(r.element(e)?a.push(e):r.array(e)&&(a=e),a.length<1)return!1;for(var s=0,l=e.length;s<l;s++)n.class(e[s],c)?o.executeRemove(e[s],[c]):o.executeAdd(e[s],[c])}};e.class=o}if(!e.log){var c=function(e){window&&window.console&&console.log(e)};e.log=c}if(e.dom||(e.dom={}),e.dom.html||(e.dom.html=document.getElementsByTagName("html")[0]),!e.event){var a={add:function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},remove:function(e,t,n){null!=e&&"undefined"!=typeof e&&(e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=n)}};e.event=a}if(!e.get){var s={extension:function(e){return e.split(".").pop().toLowerCase()},index:function(e){return[].indexOf.call(e.parentNode.children,e)}};e.get=s}if(!e.helper){var l={makeArray:function(e,t){var o=[];if(!e)return o;var t="boolean"==typeof t&&t;return r.array(e)?o=t?e.filter(function(e){return o.indexOf(e)<0}):e:r.element(e)?o.push(e):"string"==typeof e&&(n.spaces(e)?o=t?e.split(" ").filter(function(e){return o.indexOf(e)<0}):e.split(" "):o.push(e)),o},parse:{json:function(e){return r.json(e)?JSON.parse(e):e}},setDefault:function(e,t){return("undefined"!=typeof e||"undefined"!=typeof t)&&("undefined"!=typeof e&&"undefined"==typeof t?e:typeof e==typeof t?e:t)}};e.helper=l}return e}(Rocket||{}),RocketFormComponent=function(){var e=function(){Rocket.is.touch()||Rocket.class.add(Rocket.dom.html,"rocket-no-touch")},t=function(e,t){var n=!1,r=["_c-"+t.colour,"_s-"+t.style,"_sz-"+t.size],o=!1;switch(e.querySelector("input")?(n=e.querySelector("input"),o=n.getAttribute("type")):e.querySelector("textarea")?(n=e.querySelector("textarea"),o="textarea"):e.querySelector("select")&&(n=e.querySelector("select"),o="select"),o){case"checkbox":case"radio":n.checked?r.push("_checked"):Rocket.class.remove(n,"_checked"),Rocket.has.class(n,"toggler")?r.push("rf-tog"):(r.push("rf-check"),"radio"===o&&r.push("_t-radio"));break;case"textarea":r.push("rf-text"),t.label.length>0&&"normal"!==t.label&&r.push("_l-"+t.label),n.value.length>0&&r.push("_valued");break;case"select":r.push("rf-sel");break;default:r.push("rf-inp"),"password"===o&&r.push("_t-password"),t.label.length>0&&"normal"!==t.label&&r.push("_l-"+t.label),n.value.length>0&&r.push("_valued")}return Rocket.class.add(e,r),{container:e,element:n,type:o}},n=function(e){var t={off:function(){e.element.checked=!1,Rocket.class.remove(e.container,"_checked")},on:function(){e.element.checked=!0,Rocket.class.add(e.container,"_checked")}},n=function(n){if("checkbox"!==e.type)return!1;var n="string"==typeof n&&n;"on"===n?t.on():"off"===n?t.off():Rocket.has.class(e.container,"_checked")?t.off():t.on()},r=function(){Rocket.log(e.type),"text"!==e.type&&"textarea"!==e.type||(e.element.value="",Rocket.class.remove(e.container,["_focused"].concat(e.element.value.length<1?["_valued"]:[])))},o=function(n){if("radio"!==e.type)return!1;var n="string"==typeof n&&n;if("off"===n)t.off();else{for(var r=document.getElementsByName(e.element.getAttribute("name")),o=0,c=r.length;o<c;o++)r[o].checked=!1,Rocket.class.remove(r[o].parentNode,"_checked");t.on()}},c=function(t){switch(e.type){case"checkbox":n(t);break;case"radio":o(t)}};switch(e.type){case"checkbox":Rocket.event.add(e.element,"click",function(){n()});break;case"radio":Rocket.event.add(e.element,"click",function(){o()});break;default:Rocket.event.add(e.element,"focus",function(){Rocket.class.add(e.container,["_focused","_valued"])}),Rocket.event.add(e.element,"blur",function(){Rocket.class.remove(e.container,["_focused"].concat(e.element.value.length<1?["_valued"]:[]))})}return{toggle:c,clear:r,form:e.element}},r=function(e){var e="object"==typeof e&&e,r={targets:Rocket.helper.setDefault(e.targets,Rocket.defaults.form.targets),colour:Rocket.helper.setDefault(e.colour,Rocket.defaults.form.colour),label:Rocket.helper.setDefault(e.label,Rocket.defaults.form.label),size:Rocket.helper.setDefault(e.size,Rocket.defaults.form.size),style:Rocket.helper.setDefault(e.style,Rocket.defaults.form.style)},o=document.querySelectorAll(r.targets);if(o.length<1)return!1;for(var c=[],a=0,s=o.length;a<s;a++)c.push(new n(t(o[a],r)));return c};return e(),{init:r}}();Rocket.form=function(e){return RocketFormComponent.init(e)};