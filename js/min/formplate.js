function formplate(e){var t=function(e){var t={body:e.getElementsByTagName("body")[0],html:e.getElementsByTagName("html")[0]},o=function(e,t){if(l(e))if("object"==typeof t)for(var o=0,s=t.length;s>o;o++)n(e,t[o]);else if(u(t))for(var c=t.split(" "),o=0,s=c.length;s>o;o++)n(e,c[o]);else n(e,t)},n=function(e,t){var o=e.className;null===o.match(new RegExp("\\b"+t+"\\b","g"))&&(e.className=""===o?t:o+" "+t)},s=function(e){l(e)&&e.removeAttribute("class")},c=function(e,t){if(l(e))if("object"==typeof t)for(var o=t.length-1;o>=0;o--)a(e,t[o]);else if(u(t))for(var n=t.split(" "),o=0,s=n.length;s>o;o++)a(e,n[o]);else a(e,t)},a=function(e,t){e.className.indexOf(t)>-1&&(e.className=e.className.split(" ").filter(function(e){return e!=t}).toString().replace(/,/g," "),""===e.className&&s(e))},r=function(e,t,o){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o)},l=function(e){return null===e||void 0===typeof e?!1:!0},d=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},u=function(e){return/\s/.test(e)},f=function(){return"ontouchstart"in window||"onmsgesturechange"in window};return{classAdd:o,classClear:s,classRemove:c,element:t,eventAdd:r,hasClass:d,isTouch:f}}(document),o=this;o.options={selector:e&&e.selector?e.selector:$formplateDefault.selector,colour:e&&e.colour?e.colour:$formplateDefault.colour,style:e&&e.style?e.style:$formplateDefault.style};var n=document.querySelectorAll(o.options.selector);t.isTouch()||t.hasClass(t.element.html,"fp-no-touch")||t.classAdd(t.element.html,"fp-no-touch");for(var s=function(e){e.onclick=function(){t.hasClass(e.parentNode,"_checked")?(e.checked=!1,t.classRemove(e.parentNode,"_checked")):(e.checked=!0,t.classAdd(e.parentNode,"_checked"))}},c=function(e){for(var o=e.querySelectorAll("input"),n=0,s=o.length;s>n;n++){var c=o[n];c.onfocus=function(){var e=c.parentNode.getAttribute("class").indexOf("fp-")>-1?c.parentNode:c.parentNode.parentNode.getAttribute("class").indexOf("fp-")>-1?c.parentNode.parentNode:c.parentNode.parentNode.parentNode;t.classAdd(e,"_focused")},c.onblur=function(){var e=c.parentNode.getAttribute("class").indexOf("fp-")>-1?c.parentNode:c.parentNode.parentNode.getAttribute("class").indexOf("fp-")>-1?c.parentNode.parentNode:c.parentNode.parentNode.parentNode;t.classRemove(e,"_focused")}}},a=function(e){e.onclick=function(){for(var o=document.getElementsByName(e.getAttribute("name")),n=0,s=o.length;s>n;n++)o[n].checked=!1,t.classRemove(o[n].parentNode,"_checked");e.checked=!0,t.classAdd(e.parentNode,"_checked")}},r=function(e){e.onfocus=function(){t.classAdd(e.parentNode,"_focused")},e.onblur=function(){t.classRemove(e.parentNode,"_focused")}},l=0,d=n.length;d>l;l++){var u=n[l],f=["_c-"+o.options.colour,"_s-"+o.options.style];if(u.querySelector("input")){var i=u.querySelector("input"),p=i.getAttribute("type");"checkbox"===p||"radio"===p?(i.checked===!0?f.push("_checked"):t.hasClass(u,"_checked")&&t.classRemove(u,"_checked"),t.hasClass(i,"toggler")?f.push("fp-tog"):(f.push("fp-check"),"radio"===p&&f.push("_t-radio")),t.classAdd(u,f),"checkbox"===p?s(i):"radio"===p&&a(i)):"password"===p?(f.push("fp-inp","_t-password"),t.classAdd(u,f),c(u)):(f.push("fp-inp"),t.classAdd(u,f),c(u))}else if(u.querySelector("textarea")){var h=u.querySelector("textarea");f.push("fp-text"),t.classAdd(u,f),r(h)}else if(u.querySelector("select")){var m=u.querySelector("select");null!=m&&(f.push("fp-sel"),t.classAdd(u,f))}}}var $formplateDefault={selector:".formplate",colour:"blue",style:"line"};