function formplate(e){var t=function(e){var t={body:e.getElementsByTagName("body")[0],html:e.getElementsByTagName("html")[0]},a=function(e,t){var a=e.className;null===a.match(new RegExp("\\b"+t+"\\b","g"))&&(e.className=""===a?t:a+" "+t)},l=function(e){e.removeAttribute("class")},o=function(e,t){e.className.indexOf(t)>-1&&(e.className=e.className.split(" ").filter(function(e){return e!=t}).toString().replace(/,/g," "),""===e.className&&l(e))},c=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},r=function(){return"ontouchstart"in window||"onmsgesturechange"in window},n=function(t,a,l){var o=e.createElement(a),c=t.cloneNode(!0);o.className=l,t.parentNode.insertBefore(o,t).appendChild(c),t.parentNode.removeChild(t)};return{classAdd:a,classClear:l,classRemove:o,element:t,hasClass:c,isTouch:r,wrap:n}}(document),a=t.element.body.getAttribute("data-formplate-colour"),l=document.querySelectorAll('.formplate input[type="checkbox"]'),o=document.querySelectorAll('.formplate input[type="radio"]'),c=document.querySelectorAll(".formplate select"),r=document.createElement("span");r.className="handle",t.isTouch()||t.hasClass(t.element.html,"formplate-no-touch")||t.classAdd(t.element.html,"formplate-no-touch"),t.classAdd(t.element.body,"formplate-colour-"+a);for(var n=0;n<l.length;n++){var s=t.hasClass(l[n],"toggler")===!0?"formplate-toggler":"formplate-checkbox";s+="checked"===l[n].getAttribute("checked")?" checked":"",t.hasClass(l[n].parentNode,"formplate-toggler")||t.hasClass(l[n].parentNode,"formplate-checkbox")||t.wrap(l[n],"span",s)}for(var m=document.querySelectorAll(".formplate-toggler"),n=0;n<m.length;n++)m[n].appendChild(r.cloneNode());for(var n=0;n<o.length;n++){var s="checked"===o[n].getAttribute("checked")?"formplate-radio checked":"formplate-radio";t.hasClass(o[n].parentNode,"formplate-radio")||t.wrap(o[n],"span",s)}for(var n=0;n<c.length;n++)t.hasClass(c[n].parentNode,"formplate-select")||t.wrap(c[n],"span","formplate-select");for(var d=document.querySelectorAll(".formplate-checkbox"),n=0;n<d.length;n++)(function(e){d[e].onclick=function(){t.hasClass(d[e],"checked")?t.classRemove(d[e],"checked"):t.classAdd(d[e],"checked")}})(n);for(var u=document.querySelectorAll(".formplate-radio"),n=0;n<u.length;n++)(function(e){u[e].onclick=function(){for(var a=u[e].getElementsByTagName("input")[0].getAttribute("name"),l=document.querySelectorAll('input[name="'+a+'"]'),o=0;o<l.length;o++)t.classRemove(l[o].parentNode,"checked");t.classAdd(u[e],"checked")}})(n);for(var h=document.querySelectorAll(".formplate-toggler"),n=0;n<h.length;n++)(function(e){h[e].onclick=function(){t.hasClass(h[e],"checked")?t.classRemove(h[e],"checked"):t.classAdd(h[e],"checked")}})(n)}