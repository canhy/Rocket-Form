function formplate(e){var t=function(e){var t={body:e.getElementsByTagName("body")[0],html:e.getElementsByTagName("html")[0]},o=function(e,t){var o=e.className;null===o.match(new RegExp("\\b"+t+"\\b","g"))&&(e.className=""===o?t:o+" "+t)},l=function(e){e.removeAttribute("class")},a=function(e,t){e.className.indexOf(t)>-1&&(e.className=e.className.split(" ").filter(function(e){return e!=t}).toString().replace(/,/g," "),""===e.className&&l(e))},c=function(e,t,o){null!=e&&"undefined"!=typeof e&&(e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent?e.attachEvent("on"+t,o):e["on"+t]=o)},n=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},s=function(){return"ontouchstart"in window||"onmsgesturechange"in window};return{classAdd:o,classClear:l,classRemove:a,element:t,eventAdd:c,hasClass:n,isTouch:s}}(document),o=this;o.options={selector:e&&e.selector?e.selector:$formplateDefault.selector,colour:e&&e.colour?e.colour:!1};var l=o.options.colour||t.element.body.getAttribute("data-formplate-colour")||$formplateDefault.colour,a=document.querySelectorAll(o.options.selector);t.isTouch()||t.hasClass(t.element.html,"formplate-no-touch")||t.classAdd(t.element.html,"formplate-no-touch");var c=function(e){e.onchange=function(){t.hasClass(e.parentNode,"_checked")?t.classRemove(e.parentNode,"_checked"):t.classAdd(e.parentNode,"_checked")}},n=function(e){e.onclick=function(){for(var o=document.getElementsByName(e.getAttribute("name")),l=0,a=o.length;a>l;l++)t.classRemove(o[l].parentNode,"_checked");t.classAdd(e.parentNode,"_checked")}};t.classAdd(t.element.body,"formplate-colour-"+l);for(var s=0,r=a.length;r>s;s++){var d=a[s],u=d.querySelector("input");if(null!=u){var m=u.getAttribute("type"),i="checked"===u.getAttribute("checked")?" _checked":"";"checkbox"===m?(t.hasClass(u,"toggler")?t.classAdd(d,"formplate-toggler"+i):t.classAdd(d,"formplate-checkbox"+i),c(u)):"radio"===m?(t.classAdd(d,"formplate-radio"+i),n(u)):"password"===m?t.classAdd(d,"formplate-input _password"):t.classAdd(d,"formplate-input")}else{var f=d.querySelector("select");null!=f&&t.classAdd(d,"formplate-select")}}}var $formplateDefault={selector:".formplate",colour:"blue"};