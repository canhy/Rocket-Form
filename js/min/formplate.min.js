function formplate(){var a=function(a){var b={body:a.getElementsByTagName("body")[0],html:a.getElementsByTagName("html")[0]},c=function(a,b){var c=a.className;null===c.match(new RegExp("\\b"+b+"\\b","g"))&&(a.className=""===c?b:c+" "+b)},d=function(a){a.removeAttribute("class")},e=function(a,b){a.className.indexOf(b)>-1&&(a.className=a.className.split(" ").filter(function(a){return a!=b}).toString().replace(/,/g," "),""===a.className&&d(a))},f=function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1},g=function(){return"ontouchstart"in window||"onmsgesturechange"in window},h=function(b,c,d){var e=a.createElement(c),f=b.cloneNode(!0);e.className=d,b.parentNode.insertBefore(e,b).appendChild(f),b.parentNode.removeChild(b)};return{classAdd:c,classClear:d,classRemove:e,element:b,hasClass:f,isTouch:g,wrap:h}}(document),b=a.element.body.getAttribute("data-formplate-colour"),c=document.querySelectorAll('.formplate input[type="checkbox"]'),d=document.querySelectorAll('.formplate input[type="radio"]'),e=document.querySelectorAll(".formplate select"),f=document.createElement("span");f.className="handle",a.isTouch()||a.hasClass(a.element.html,"formplate-no-touch")||a.classAdd(a.element.html,"formplate-no-touch"),a.classAdd(a.element.body,"formplate-colour-"+b);for(var g=0;g<c.length;g++){var h=a.hasClass(c[g],"toggler")===!0?"formplate-toggler":"formplate-checkbox";h+="checked"===c[g].getAttribute("checked")?" checked":"",a.hasClass(c[g].parentNode,"formplate-toggler")||a.hasClass(c[g].parentNode,"formplate-checkbox")||a.wrap(c[g],"span",h)}for(var i=document.querySelectorAll(".formplate-toggler"),g=0;g<i.length;g++)i[g].appendChild(f.cloneNode());for(var g=0;g<d.length;g++){var h="checked"===d[g].getAttribute("checked")?"formplate-radio checked":"formplate-radio";a.hasClass(d[g].parentNode,"formplate-radio")||a.wrap(d[g],"span",h)}for(var g=0;g<e.length;g++)a.hasClass(e[g].parentNode,"formplate-select")||a.wrap(e[g],"span","formplate-select");for(var j=document.querySelectorAll(".formplate-checkbox"),g=0;g<j.length;g++)(function(b){j[b].onclick=function(){a.hasClass(j[b],"checked")?a.classRemove(j[b],"checked"):a.classAdd(j[b],"checked")}})(g);for(var k=document.querySelectorAll(".formplate-radio"),g=0;g<k.length;g++)(function(b){k[b].onclick=function(){for(var c=k[b].getElementsByTagName("input")[0].getAttribute("name"),d=document.querySelectorAll('input[name="'+c+'"]'),e=0;e<d.length;e++)a.classRemove(d[e].parentNode,"checked");a.classAdd(k[b],"checked")}})(g);for(var l=document.querySelectorAll(".formplate-toggler"),g=0;g<l.length;g++)(function(b){l[b].onclick=function(){a.hasClass(l[b],"checked")?a.classRemove(l[b],"checked"):a.classAdd(l[b],"checked")}})(g)}