function Formplate(){var a=document.getElementsByTagName("html")[0],b=document.getElementsByTagName("body")[0],c=b.getAttribute("data-formplate-colour"),d=document.querySelectorAll('.formplate input[type="checkbox"]'),e=document.querySelectorAll('.formplate input[type="radio"]'),f=document.querySelectorAll(".formplate select"),g=document.createElement("span");g.className="handle",tool.isTouch()||tool.hasClass(a,"fp-no-touch")||tool.classAdd(a,"fp-no-touch"),tool.classAdd(b,"fp-colour-"+c);for(var h=0;h<d.length;h++){var i=tool.hasClass(d[h],"toggler")===!0?"fp-toggler":"fp-checkbox";i+="checked"===d[h].getAttribute("checked")?" checked":"",tool.hasClass(d[h].parentNode,"fp-toggler")||tool.hasClass(d[h].parentNode,"fp-checkbox")||tool.wrap(d[h],"span",i)}for(var j=document.querySelectorAll(".fp-toggler"),h=0;h<j.length;h++)j[h].appendChild(g.cloneNode());for(var h=0;h<e.length;h++){var i="checked"===e[h].getAttribute("checked")?"fp-radio checked":"fp-radio";tool.hasClass(e[h].parentNode,"fp-radio")||tool.wrap(e[h],"span",i)}for(var h=0;h<f.length;h++)tool.hasClass(f[h].parentNode,"fp-select")||tool.wrap(f[h],"span","fp-select");for(var k=document.querySelectorAll(".fp-checkbox"),h=0;h<k.length;h++)(function(a){k[a].onclick=function(){tool.hasClass(k[a],"checked")?tool.classRemove(k[a],"checked"):tool.classAdd(k[a],"checked")}})(h);for(var l=document.querySelectorAll(".fp-radio"),h=0;h<l.length;h++)(function(a){l[a].onclick=function(){for(var b=l[a].getElementsByTagName("input")[0].getAttribute("name"),c=document.querySelectorAll('input[name="'+b+'"]'),d=0;d<c.length;d++)tool.classRemove(c[d].parentNode,"checked");tool.classAdd(l[a],"checked")}})(h);for(var m=document.querySelectorAll(".fp-toggler"),h=0;h<m.length;h++)(function(a){m[a].onclick=function(){tool.hasClass(m[a],"checked")?tool.classRemove(m[a],"checked"):tool.classAdd(m[a],"checked")}})(h)}var tool={addEvent:function(a,b,c){null!=a&&"undefined"!=typeof a&&(a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):a["on"+b]=c)},classAdd:function(a,b){a.className;-1===a.className.indexOf(b)&&(a.className=""===a.className?b:a.className+" "+b)},classRemove:function(a,b){var c=a.className;c.indexOf(b)>-1&&(a.className=a.className.split(" ").filter(function(a){return a!=b}).toString().replace(/,/g," "))},hasClass:function(a,b){return(" "+a.className+" ").indexOf(" "+b+" ")>-1},idAdd:function(a,b){a.setAttribute("id",b)},isTouch:function(){return"ontouchstart"in window||"onmsgesturechange"in window},log:function(a){window.console&&console.log(a)},wrap:function(a,b,c){var d=document.createElement(b),e=a.cloneNode(!0);d.className=c,a.parentNode.insertBefore(d,a).appendChild(e),a.parentNode.removeChild(a)}};